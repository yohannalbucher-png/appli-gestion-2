<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Appli gestion – Livraisons / Clients / RDV / Stock</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 900px;
      margin: 30px auto;
      padding: 0 10px;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    h2 {
      margin-top: 0;
    }
    .nav {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin: 15px 0 25px;
      flex-wrap: wrap;
    }
    .nav button {
      padding: 8px 14px;
      border-radius: 4px;
      border: 1px solid #ccc;
      cursor: pointer;
    }
    .nav button.actif {
      font-weight: bold;
      border-width: 2px;
    }
    .page {
      display: none;
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 15px;
      margin-bottom: 20px;
    }
    .page.active {
      display: block;
    }
    form {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
      align-items: flex-end;
    }
    form .champ {
      display: flex;
      flex-direction: column;
      flex: 1 1 150px;
      min-width: 140px;
    }
    label {
      font-size: 0.85rem;
      margin-bottom: 2px;
    }
    input, select {
      padding: 6px;
      font-size: 0.9rem;
    }
    form button[type="submit"] {
      padding: 8px 14px;
      cursor: pointer;
    }
    ul {
      list-style: none;
      padding-left: 0;
      margin-top: 8px;
    }
    li {
      padding: 6px 8px;
      border: 1px solid #ccc;
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.9rem;
    }
    .ligne-texte {
      flex: 1;
      margin-right: 8px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .supprimer {
      border: none;
      background: none;
      cursor: pointer;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h1>Appli de gestion</h1>
  <p style="text-align:center;">Livraisons • Clients • RDV • Stock</p>

  <div class="nav">
    <button data-page="livraisons" class="actif">Livraisons</button>
    <button data-page="clients">Clients</button>
    <button data-page="rdv">RDV</button>
    <button data-page="stock">Stock</button>
  </div>

  <!-- PAGE LIVRAISONS -->
  <section id="page-livraisons" class="page active">
    <h2>Livraisons</h2>
    <form id="form-livraisons">
      <div class="champ">
        <label for="liv-ref">Référence</label>
        <input id="liv-ref" type="text" placeholder="Ex : PLX248361" required />
      </div>
      <div class="champ">
        <label for="liv-dest">Destinataire</label>
        <input id="liv-dest" type="text" placeholder="Ex : Clinique du Parc" required />
      </div>
      <div class="champ">
        <label for="liv-date">Date</label>
        <input id="liv-date" type="date" required />
      </div>
      <div class="champ">
        <label for="liv-statut">Statut</label>
        <select id="liv-statut">
          <option value="Prévue">Prévue</option>
          <option value="En livraison">En livraison</option>
          <option value="Livrée">Livrée</option>
          <option value="Problème">Problème</option>
        </select>
      </div>
      <button type="submit">Ajouter</button>
    </form>
    <ul id="liste-livraisons"></ul>
  </section>

  <!-- PAGE CLIENTS -->
  <section id="page-clients" class="page">
    <h2>Clients</h2>
    <form id="form-clients">
      <div class="champ">
        <label for="cli-nom">Nom client</label>
        <input id="cli-nom" type="text" placeholder="Ex : SARL Dupont" required />
      </div>
      <div class="champ">
        <label for="cli-ville">Ville</label>
        <input id="cli-ville" type="text" placeholder="Ex : Périgueux" />
      </div>
      <div class="champ">
        <label for="cli-tel">Téléphone</label>
        <input id="cli-tel" type="text" placeholder="Ex : 06 12 34 56 78" />
      </div>
      <button type="submit">Ajouter</button>
    </form>
    <ul id="liste-clients"></ul>
  </section>

  <!-- PAGE RDV -->
  <section id="page-rdv" class="page">
    <h2>RDV</h2>
    <form id="form-rdv">
      <div class="champ">
        <label for="rdv-date">Date</label>
        <input id="rdv-date" type="date" required />
      </div>
      <div class="champ">
        <label for="rdv-heure">Heure</label>
        <input id="rdv-heure" type="time" required />
      </div>
      <div class="champ">
        <label for="rdv-objet">Objet / commentaire</label>
        <input id="rdv-objet" type="text" placeholder="Ex : RDV livraison GT Solutions" required />
      </div>
      <button type="submit">Ajouter</button>
    </form>
    <ul id="liste-rdv"></ul>
  </section>

  <!-- PAGE STOCK -->
  <section id="page-stock" class="page">
    <h2>Stock</h2>
    <form id="form-stock">
      <div class="champ">
        <label for="sto-article">Article</label>
        <input id="sto-article" type="text" placeholder="Ex : Palette Europe" required />
      </div>
      <div class="champ">
        <label for="sto-quantite">Quantité</label>
        <input id="sto-quantite" type="number" min="0" placeholder="Ex : 20" required />
      </div>
      <div class="champ">
        <label for="sto-emplacement">Emplacement</label>
        <input id="sto-emplacement" type="text" placeholder="Ex : Allée B - Rack 3" />
      </div>
      <button type="submit">Ajouter</button>
    </form>
    <ul id="liste-stock"></ul>
  </section>

  <script>
    // --- Gestion des onglets ---
    const boutonsNav = document.querySelectorAll(".nav button");
    const pages = {
      livraisons: document.getElementById("page-livraisons"),
      clients: document.getElementById("page-clients"),
      rdv: document.getElementById("page-rdv"),
      stock: document.getElementById("page-stock"),
    };

    boutonsNav.forEach((btn) => {
      btn.addEventListener("click", () => {
        // boutons
        boutonsNav.forEach((b) => b.classList.remove("actif"));
        btn.classList.add("actif");

        // pages
        const pageChoisie = btn.dataset.page;
        Object.keys(pages).forEach((key) => {
          pages[key].classList.toggle("active", key === pageChoisie);
        });
      });
    });

    // FONCTION UTILITAIRE POUR CREER UNE LIGNE + BOUTON SUPPRIMER
    function ajouterLigne(liste, texte) {
      const li = document.createElement("li");

      const spanTexte = document.createElement("span");
      spanTexte.className = "ligne-texte";
      spanTexte.textContent = texte;

      const boutonSupprimer = document.createElement("button");
      boutonSupprimer.textContent = "✕";
      boutonSupprimer.className = "supprimer";
      boutonSupprimer.addEventListener("click", () => {
        liste.removeChild(li);
      });

      li.appendChild(spanTexte);
      li.appendChild(boutonSupprimer);
      liste.appendChild(li);
    }

    // --- LIVRAISONS ---
    const formLiv = document.getElementById("form-livraisons");
    const listeLiv = document.getElementById("liste-livraisons");
    formLiv.addEventListener("submit", (e) => {
      e.preventDefault();
      const ref = document.getElementById("liv-ref").value.trim();
      const dest = document.getElementById("liv-dest").value.trim();
      const date = document.getElementById("liv-date").value;
      const statut = document.getElementById("liv-statut").value;

      if (!ref || !dest || !date) return;

      const texte = `${ref} – ${dest} – ${date} – ${statut}`;
      ajouterLigne(listeLiv, texte);

      formLiv.reset();
    });

    // --- CLIENTS ---
    const formCli = document.getElementById("form-clients");
    const listeCli = document.getElementById("liste-clients");
    formCli.addEventListener("submit", (e) => {
      e.preventDefault();
      const nom = document.getElementById("cli-nom").value.trim();
      const ville = document.getElementById("cli-ville").value.trim();
      const tel = document.getElementById("cli-tel").value.trim();

      if (!nom) return;

      const texte = `${nom} – ${ville || "Ville ?"} – ${tel || "Tél ?"} `;
      ajouterLigne(listeCli, texte);

      formCli.reset();
    });

    // --- RDV ---
    const formRdv = document.getElementById("form-rdv");
    const listeRdv = document.getElementById("liste-rdv");
    formRdv.addEventListener("submit", (e) => {
      e.preventDefault();
      const date = document.getElementById("rdv-date").value;
      const heure = document.getElementById("rdv-heure").value;
      const objet = document.getElementById("rdv-objet").value.trim();

      if (!date || !heure || !objet) return;

      const texte = `${date} ${heure} – ${objet}`;
      ajouterLigne(listeRdv, texte);

      formRdv.reset();
    });

    // --- STOCK ---
    const formSto = document.getElementById("form-stock");
    const listeSto = document.getElementById("liste-stock");
    formSto.addEventListener("submit", (e) => {
      e.preventDefault();
      const art = document.getElementById("sto-article").value.trim();
      const qte = document.getElementById("sto-quantite").value;
      const emp = document.getElementById("sto-emplacement").value.trim();

      if (!art || qte === "") return;

      const texte = `${art} – Qté : ${qte} – ${emp || "Emplacement ?"} `;
      ajouterLigne(listeSto, texte);

      formSto.reset();
    });
  </script>
</body>
</html>
